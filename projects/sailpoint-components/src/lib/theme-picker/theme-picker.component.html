<div class="theme-picker-container">
  <mat-toolbar color="primary">
    <mat-icon>dashboard</mat-icon>
    <span class="toolbar-title">{{ title }}</span>
  </mat-toolbar>

  <div class="content">
    <div class="theme-picker">
      <h2>Theme Customization</h2>

      <!-- Loading spinner shown while data is being fetched -->
      <div *ngIf="loading" class="spinner-container">
        <mat-spinner diameter="75"></mat-spinner>
      </div>

      <div class="form-group">
        <label>Mode</label>
        <select [(ngModel)]="mode" (change)="onModeChange()">
          <option value="light">Light</option>
          <option value="dark">Dark</option>
        </select>
      </div>

      <div class="form-group">
        <label>Primary Color</label>
        <div class="input-row">
          <input type="color" [(ngModel)]="colors.primary" />
          <input
            type="text"
            [(ngModel)]="colors.primary"
            maxlength="7"
            pattern="#[a-fA-F0-9]{6}"
          />
        </div>
      </div>

      <div class="form-group">
        <label>Secondary Color</label>
        <div class="input-row">
          <input type="color" [(ngModel)]="colors.secondary" />
          <input
            type="text"
            [(ngModel)]="colors.secondary"
            maxlength="7"
            pattern="#[a-fA-F0-9]{6}"
          />
        </div>
      </div>

      <div class="form-group">
        <label>Primary Text Color</label>
        <div class="input-row">
          <input type="color" [(ngModel)]="colors.primaryText" />
          <input
            type="text"
            [(ngModel)]="colors.primaryText"
            maxlength="7"
            pattern="#[a-fA-F0-9]{6}"
          />
        </div>
      </div>

      <div class="form-group">
        <label>Secondary Text Color</label>
        <div class="input-row">
          <input type="color" [(ngModel)]="colors.secondaryText" />
          <input
            type="text"
            [(ngModel)]="colors.secondaryText"
            maxlength="7"
            pattern="#[a-fA-F0-9]{6}"
          />
        </div>
      </div>

      <div class="form-group">
        <label>Hover Text Color</label>
        <div class="input-row">
          <input type="color" [(ngModel)]="colors.hoverText" />
          <input
            type="text"
            [(ngModel)]="colors.hoverText"
            maxlength="7"
            pattern="#[a-fA-F0-9]{6}"
          />
        </div>
      </div>

      <div class="form-group">
        <label>Background Color</label>
        <div class="input-row">
          <input type="color" [(ngModel)]="colors.background" />
          <input
            type="text"
            [(ngModel)]="colors.background"
            maxlength="7"
            pattern="#[a-fA-F0-9]{6}"
          />
        </div>
      </div>
      <div class="form-group">
        <mat-form-field appearance="outline" class="upload-logo-label">
          <mat-label>Upload Logo ({{ mode }})</mat-label>

          <input
            matInput
            [value]="selectedLogoFileName || 'No file chosenâ€¦'"
            readonly
          />
          <div matSuffix class="logo-suffix">
            <button
              class="upload-button"
              mat-icon-button
              aria-label="Select logo file"
              (click)="fileInput.click()"
            >
              <mat-icon>upload</mat-icon>
            </button>

            <button
              *ngIf="selectedLogoFileName"
              class="reset-button"
              mat-icon-button
              aria-label="Reset to default"
              (click)="onResetLogo()"
            >
              <mat-icon>autorenew</mat-icon>
            </button>
          </div>

          <input
            #fileInput
            type="file"
            accept="image/png"
            hidden
            (change)="onFileSelected($event)"
          />
        </mat-form-field>
      </div>

      <button (click)="apply()">Apply</button>
    </div>
  </div>
</div>
