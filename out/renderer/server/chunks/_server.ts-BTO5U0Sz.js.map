{"version":3,"file":"_server.ts-BTO5U0Sz.js","sources":["../../../../.svelte-kit/adapter-node/entries/endpoints/api/sailpoint/form/create-instance/_server.ts.js"],"sourcesContent":["import { c as createConfiguration } from \"../../../../../../chunks/sdk.js\";\nimport { e as error, j as json } from \"../../../../../../chunks/index.js\";\nimport { CustomFormsBetaApi } from \"sailpoint-api-client\";\nconst POST = async ({ request, locals }) => {\n  const config = createConfiguration(locals.session.baseUrl, locals.idnSession.access_token);\n  const api = new CustomFormsBetaApi(config);\n  const { formDefinitionId, formInput } = await request.json();\n  if (!formDefinitionId || !formInput) {\n    error(400, \"formDefinitionId and formInput are required\");\n  }\n  const expireDate = /* @__PURE__ */ new Date();\n  expireDate.setDate(expireDate.getDate() + 1);\n  const formInstance = {\n    body: {\n      createdBy: {\n        id: \"BOOYAH\",\n        type: \"SOURCE\"\n      },\n      expire: expireDate.toISOString(),\n      formDefinitionId,\n      formInput: {\n        ...formInput\n      },\n      recipients: [\n        {\n          id: locals.idnSession?.identity_id,\n          type: \"IDENTITY\"\n        }\n      ],\n      standAloneForm: true,\n      state: \"ASSIGNED\",\n      ttl: 1571827560\n    }\n  };\n  const formInstanceResp = await api.createFormInstance(formInstance);\n  return json({ formDefinitionId, formInput, formInstanceResp: formInstanceResp.data });\n};\nexport {\n  POST\n};\n"],"names":["CustomFormsBetaApi"],"mappings":";;;;;;;;;;;;;;;;;AAGK,MAAC,IAAI,GAAG,OAAO,EAAE,OAAO,EAAE,MAAM,EAAE,KAAK;AAC5C,EAAE,MAAM,MAAM,GAAG,mBAAmB,CAAC,MAAM,CAAC,OAAO,CAAC,OAAO,EAAE,MAAM,CAAC,UAAU,CAAC,YAAY,CAAC,CAAC;AAC7F,EAAE,MAAM,GAAG,GAAG,IAAIA,8BAAkB,CAAC,MAAM,CAAC,CAAC;AAC7C,EAAE,MAAM,EAAE,gBAAgB,EAAE,SAAS,EAAE,GAAG,MAAM,OAAO,CAAC,IAAI,EAAE,CAAC;AAC/D,EAAE,IAAI,CAAC,gBAAgB,IAAI,CAAC,SAAS,EAAE;AACvC,IAAI,KAAK,CAAC,GAAG,EAAE,6CAA6C,CAAC,CAAC;AAC9D,GAAG;AACH,EAAE,MAAM,UAAU,mBAAmB,IAAI,IAAI,EAAE,CAAC;AAChD,EAAE,UAAU,CAAC,OAAO,CAAC,UAAU,CAAC,OAAO,EAAE,GAAG,CAAC,CAAC,CAAC;AAC/C,EAAE,MAAM,YAAY,GAAG;AACvB,IAAI,IAAI,EAAE;AACV,MAAM,SAAS,EAAE;AACjB,QAAQ,EAAE,EAAE,QAAQ;AACpB,QAAQ,IAAI,EAAE,QAAQ;AACtB,OAAO;AACP,MAAM,MAAM,EAAE,UAAU,CAAC,WAAW,EAAE;AACtC,MAAM,gBAAgB;AACtB,MAAM,SAAS,EAAE;AACjB,QAAQ,GAAG,SAAS;AACpB,OAAO;AACP,MAAM,UAAU,EAAE;AAClB,QAAQ;AACR,UAAU,EAAE,EAAE,MAAM,CAAC,UAAU,EAAE,WAAW;AAC5C,UAAU,IAAI,EAAE,UAAU;AAC1B,SAAS;AACT,OAAO;AACP,MAAM,cAAc,EAAE,IAAI;AAC1B,MAAM,KAAK,EAAE,UAAU;AACvB,MAAM,GAAG,EAAE,UAAU;AACrB,KAAK;AACL,GAAG,CAAC;AACJ,EAAE,MAAM,gBAAgB,GAAG,MAAM,GAAG,CAAC,kBAAkB,CAAC,YAAY,CAAC,CAAC;AACtE,EAAE,OAAO,IAAI,CAAC,EAAE,gBAAgB,EAAE,SAAS,EAAE,gBAAgB,EAAE,gBAAgB,CAAC,IAAI,EAAE,CAAC,CAAC;AACxF;;;;"}